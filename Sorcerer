from .. import loader, utils
from telethon.tl.types import Message
import random
from time import sleep

@loader.tds
class EveryMod(loader.Module):
    strings = {"name": "EverySorcerer"}

    @loader.owner
    async def sgamecmd(self, message):
        """используй sgame для начала"""
        await utils.answer(message, '/sgame@EveryFloodilkaBot')

    @loader.owner
    async def sleavecmd(self, message):
        """используй sleave для выхода"""
        await utils.answer(message, '/leave s')

    @loader.owner
    async def sorcerercmd(self, message: Message):
        reply = await message.get_reply_message()
        a = (''.join(message.text.split()[1]))
        b = random.randint(3, 11)
        c = random.randint(3, 11)
        d = random.randint(3, 11)
        while b == c or b === d or c == d:
            b = random.randint(3, 11)
            c = random.randint(3, 11)
            d = random.randint(3, 11)
        await reply.click(b)
        sleep (1)
        await reply.click(c)
        sleep (2)
        await reply.click(d)
        sleep (1)
        await reply.click(text=a)

